table:
  name: nigerian_states
  schema: reference
configuration:
  column_config:
    code:
      custom_name: code
    name:
      custom_name: name
    capital:
      custom_name: capital
    geopolitical_zone:
      custom_name: geopoliticalZone
    latitude:
      custom_name: latitude
    longitude:
      custom_name: longitude
  custom_root_fields:
    select: nigerianStates
    select_by_pk: nigerianState
    select_aggregate: nigerianStatesAggregate
array_relationships:
  - name: listings
    using:
      manual_configuration:
        column_mapping:
          code: state_code
        remote_table:
          name: listings
          schema: marketplace
  - name: recipients
    using:
      manual_configuration:
        column_mapping:
          code: state_code
        remote_table:
          name: recipients
          schema: remittance
select_permissions:
  - role: anonymous
    permission:
      columns:
        - code
        - name
        - capital
        - geopoliticalZone
        - latitude
        - longitude
      filter: {}
  - role: user
    permission:
      columns:
        - code
        - name
        - capital
        - geopoliticalZone
        - latitude
        - longitude
      filter: {}
  - role: admin
    permission:
      columns: "*"
      filter: {}
      allow_aggregations: true
